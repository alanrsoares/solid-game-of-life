var e,t,r,o,n=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},l=(e,t,r)=>(n(e,t,"read from private field"),r?r.call(e):t.get(e)),i=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},s=(e,t,r,o)=>(n(e,t,"write to private field"),o?o.call(e,r):t.set(e,r),r);import{r as a,t as c,c as d,o as g,a as u,i as h,b as v,d as m,e as w,f as p,s as f,g as k,h as b,m as x,I as M,j as y,k as C,l as N}from"./vendor.32c916c1.js";const P=[{grid:16,cell:"1.5rem"},{grid:24,cell:"1rem"},{grid:32,cell:"0.75rem"},{grid:40,cell:"0.6rem"},{grid:48,cell:"0.5rem"},{grid:56,cell:"0.43125rem"},{grid:64,cell:"0.375rem"},{grid:96,cell:"0.25rem"}],L=e=>a(0,e).map((()=>({state:()=>!1,toggle:()=>{}}))).map(((e,t,r)=>r.slice())),S=e=>L(e).map((e=>e.map((()=>({state:()=>Math.random()>=.8,toggle:()=>{}})))));e=new WeakMap,t=new WeakMap,r=new WeakMap,o=new WeakMap;const j=new class{constructor(n=100,l={lightness:.6,saturation:1}){i(this,e,void 0),i(this,t,void 0),i(this,r,void 0),i(this,o,{}),s(this,e,360/Math.sqrt(n**2*2)),s(this,t,100*l.saturation),s(this,r,100*l.lightness),s(this,o,{})}withHue(t){const r=360/Math.sqrt(t**2*2);return r!==l(this,e)&&s(this,o,{}),s(this,e,r),this}getColor(n,i){const s=[n,i].join("-");if(s in l(this,o))return l(this,o)[s];const a=`hsl(${Math.floor(Math.sqrt(n**2+i**2)*l(this,e))},${l(this,t)}%,${l(this,r)}%)`;return l(this,o)[s]=a,a}},T=e=>e.map(((t,r)=>t.map(((t,o)=>{const n=(l=t.state(),i=((e,t)=>(({y:e,x:t})=>[-1,0,1].reduce(((r,o,n,l)=>l.reduce(((r,n)=>n||o?[...r,[e+o,t+n]]:r),r)),[]))(t).map((e=>t=>{return(([t,r])=>e[t][r])((r=e.length,t.map((e=>t=>-1===t?e-1:t===e?0:t)(r))));var r})(e)).filter((e=>e.state())).length)(e,{y:r,x:o}),l?i>=2&&i<=3:3===i);var l,i;return{state:()=>n,toggle:()=>{}}})))),z=c("<div>Profiler <!> fps</div>"),B=e=>{const[t,r]=d(0);let o=0;function n(t){const l=e.frames;r(l-t),o=window.setTimeout((()=>n(l)),1e3)}return g((()=>{n(e.frames)})),u((()=>{clearTimeout(o)})),(()=>{const e=z.cloneNode(!0),r=e.firstChild.nextSibling;return r.nextSibling,h(e,t,r),v((r=>m(e,{"opacity-0 border":t()<=0},r))),e})()},$=c('<div class="flex m-auto border-4 border-[#222] border-2 rounded-lg p-1"><div></div></div>'),R=e=>(()=>{const t=$.cloneNode(!0),r=t.firstChild;return h(r,(()=>e.children)),t})(),W=c('<div role="button" class="rounded-full m-px"></div>'),q=e=>{var t;const r=P[null!=(t=e.sizeIndex)?t:0].cell;return(()=>{const t=W.cloneNode(!0);return p(t,"click",e.onClick,!0),f(t,e,!1,!1),v((o=>{var n;return k(t,`background-color: ${null!=(n=e.bgColor)?n:"#222"}; height: ${r}; width: ${r}; transition: background-color 0.1s ease-out;`,o)})),t})()};w(["click"]);const A=c('<button role="button" class="rounded-full text-white h-18 w-18 p-4 grid place-items-center hover:opacity-75 focus:outline-none focus:ring focus:ring-offset-gray-800 focus:ring-offset-2 disabled:opacity-50 disabled:filter disabled:grayscale disabled:cursor-not-allowed"></button>'),I=({variant:e,...t})=>(()=>{const r=A.cloneNode(!0);return r.classList.toggle("bg-blue-800","blue"===e||!e),r.classList.toggle("bg-red-800","red"===e),r.classList.toggle("bg-yellow-800","yellow"===e),r.classList.toggle("bg-green-800","green"===e),f(r,t,!1,!1),r})(),E=c('<svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512"><title>Shuffle</title><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M400 304l48 48-48 48M400 112l48 48-48 48M64 352h85.19a80 80 0 0066.56-35.62L256 256"></path><path d="M64 160h85.19a80 80 0 0166.56 35.62l80.5 120.76A80 80 0 00362.81 352H416M416 160h-53.19a80 80 0 00-66.56 35.62L288 208" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></path></svg>'),F=c('<svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512"><title>Refresh</title><path d="M320 146s24.36-12-64-12a160 160 0 10160 160" fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M256 58l80 80-80 80"></path></svg>'),H=c('<svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512"><title>Play Skip Forward</title><path d="M112 111v290c0 17.44 17 28.52 31 20.16l247.9-148.37c12.12-7.25 12.12-26.33 0-33.58L143 90.84c-14-8.36-31 2.72-31 20.16z" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" d="M400 80v352"></path></svg>'),D=c('<svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512"><title>Play</title><path d="M112 111v290c0 17.44 17 28.52 31 20.16l247.9-148.37c12.12-7.25 12.12-26.33 0-33.58L143 90.84c-14-8.36-31 2.72-31 20.16z" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32"></path></svg>'),G=c('<svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512"><title>Pause</title><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M176 96h16v320h-16zM320 96h16v320h-16z"></path></svg>'),J=E.cloneNode(!0),K=F.cloneNode(!0),O=H.cloneNode(!0),Q=D.cloneNode(!0),U=G.cloneNode(!0),V=c('<div class="w-full flex justify-between"></div>'),X=e=>(()=>{const t=V.cloneNode(!0);return h(t,b(I,{get onclick(){return e.onRandom},variant:"yellow",get children(){return J}}),null),h(t,b(I,{get onclick(){return e.onReset},variant:"red",get children(){return K}}),null),h(t,(()=>{const t=x((()=>!!e.isPlaying),!0);return()=>t()?b(I,{get onclick(){return e.onNextState},variant:"green",disabled:!0,get children(){return O}}):b(I,{get onclick(){return e.onNextState},variant:"green",get children(){return O}})})(),null),h(t,(()=>{const t=x((()=>!!e.isPlaying),!0);return()=>t()?b(I,{get onclick(){return e.onTogglePlay},variant:"blue",get children(){return U}}):b(I,{get onclick(){return e.onTogglePlay},variant:"blue",get children(){return Q}})})(),null),t})(),Y=c("<div></div>"),Z=c('<main class="grid min-h-screen bg-gray-800 place-items-center text-white"><div class="grid gap-8 place-items-center md:-mt-24"><h1 class="text-xl">Solid Game of Life</h1></div></main>'),_=c('<div class="flex flex-1"></div>'),ee=()=>{const[e,t]=d(3),r=P[e()].grid,o=e=>e.map((e=>e.map((e=>{const[t,r]=d(e.state());return{state:t,toggle:()=>r(!t())}})))),[n,l]=d(o(S(r))),[i,s]=d(0),a=()=>l((()=>o(S(r)))),c=()=>l((e=>o(T(e)))),g=()=>{l((()=>o(L(r))))};let u=0,[v,m]=d(!1);const w=()=>{if(v())return m(!1),window.cancelAnimationFrame(u),void s(0);m(!0),function e(){y((()=>{l(T),s(C)})),v&&(u=window.requestAnimationFrame(e))}()},p=e=>t=>{0===t.button&&1===t.buttons&&e().toggle()};return(()=>{const t=Z.cloneNode(!0),o=t.firstChild;return o.firstChild,h(o,b(X,{onRandom:a,onTogglePlay:w,onReset:g,onNextState:c,get isPlaying(){return v()}}),null),h(o,b(R,{get children(){const t=Y.cloneNode(!0);return h(t,b(M,{get each(){return n()},children:(t,o)=>(()=>{const n=_.cloneNode(!0);return h(n,b(M,{get each(){return t()},children:(t,n)=>(()=>{const l=x((()=>!!t().state()),!0);return b(q,{get onMouseDown(){return p(t)},get onMouseMove(){return p(t)},get isAlive(){return t().state()},get sizeIndex(){return e()},get bgColor(){return l()?((e,t,r)=>r?j.withHue(r).getColor(e,t):j.getColor(e,t))(o,n,r):void 0}})})()})),n})()})),t}}),null),h(o,b(B,{get frames(){return i()}}),null),t})()};N((()=>b(ee,{})),document.getElementById("root"));
